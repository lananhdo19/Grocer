(this.webpackJsonpgrocer=this.webpackJsonpgrocer||[]).push([[0],{32:function(e,t,n){e.exports=n.p+"static/media/logo.a4ca32e0.JPG"},43:function(e,t,n){e.exports=n(57)},48:function(e,t,n){},50:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),l=n.n(c),s=(n(48),n(22),n(28),n(49),n(20)),i=n(5),o=(n(50),n(32)),m=n.n(o),u=function(){return r.a.createElement("a",{href:"#",className:"logout",onClick:function(){return sessionStorage.clear(),void window.location.replace("/")}},"Log out")},p=n(4),d=n.n(p),E=n(9),f=n(6),g=n(61),h=n(7),b=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),s=Object(f.a)(l,2),i=s[0],o=s[1],m=function(){var e=Object(E.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.trim().length<=0)){e.next=4;break}document.getElementById("name-msg-login").innerText="Enter Username.",e.next=13;break;case 4:return e.next=6,fetch("/api/login/",{method:"post",body:JSON.stringify({username:n,password:i}),headers:{"Content-Type":"application/json"}});case 6:return t=e.sent,e.next=9,t.text();case 9:"true"!==(a=e.sent)?document.getElementById("name-msg-login").innerText=a:(window.sessionStorage.setItem("username",n),window.location.replace("/main")),c(""),o("");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function u(){document.getElementById("name-msg-login").innerText="",document.getElementById("password-msg-login").innerText=""}return r.a.createElement(h.a.Provider,{value:!1},r.a.createElement(g.a,null,r.a.createElement(g.a.Toggle,{className:"menu-header teal"},r.a.createElement("a",null,"Login")),r.a.createElement(g.a.Menu,{className:"menu-spacing login "},r.a.createElement("span",{id:"name-msg-login",className:"error"}),r.a.createElement("input",{type:"text",value:n,placeholder:"Username",onFocus:u,onChange:function(e){return c(e.target.value)},autoFocus:!0,required:!0}),r.a.createElement("br",null),r.a.createElement("span",{id:"password-msg-login",className:"error"}),r.a.createElement("input",{type:"password",value:i,placeholder:"Password",onFocus:u,onChange:function(e){return o(e.target.value)},required:!0}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block teal",id:"loginButton",value:"Login",onClick:function(){return m()}}))))},v=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),s=Object(f.a)(l,2),i=s[0],o=s[1],m=Object(a.useState)(""),u=Object(f.a)(m,2),p=u[0],b=u[1],v=function(){var e=Object(E.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.trim().length<=0||p.trim().length<=0)&&p.match("\\w+\\@\\w+\\.\\w+")){e.next=4;break}document.getElementById("name-msg").innerText="Missing Fields.",e.next=20;break;case 4:if(!(i.length<8)){e.next=8;break}document.getElementById("name-msg").innerText="Passwords are 8 characters or more.",e.next=20;break;case 8:return e.next=10,fetch("/api/sign-up/",{method:"post",body:JSON.stringify({username:n,email:p,password:i}),headers:{"Content-Type":"application/json"}});case 10:return t=e.sent,e.next=13,t.json();case 13:a=e.sent,console.log(JSON.stringify({username:n,email:p,password:i})),!1===a.newUser&&(document.getElementById("name-msg").innerText="This username already exists."),!1===a.newEmail?document.getElementById("email-msg").innerText="This email already exists.":(window.sessionStorage.setItem("username",n),window.location.replace("/main")),c(""),o(""),b("");case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){document.getElementById("name-msg").innerText="",document.getElementById("email-msg").innerText="",document.getElementById("password-msg").innerText=""};return r.a.createElement(h.a.Provider,{value:!1},r.a.createElement(g.a,null,r.a.createElement(g.a.Toggle,{className:"menu-header teal"},r.a.createElement("a",null,"Create an Account")),r.a.createElement(g.a.Menu,{className:"menu-spacing signup"},r.a.createElement("span",{id:"name-msg",className:"error"}),r.a.createElement("input",{type:"text",placeholder:"Username",value:n,onFocus:y,onChange:function(e){return c(e.target.value)},autoFocus:!0,required:!0}),r.a.createElement("br",null),r.a.createElement("span",{id:"email-msg",className:"error"}),r.a.createElement("input",{type:"email",placeholder:"Email",value:p,onFocus:y,onChange:function(e){return b(e.target.value)},required:!0}),r.a.createElement("br",null),r.a.createElement("span",{id:"password-msg",className:"error"}),r.a.createElement("input",{type:"password",placeholder:"Password",value:i,onChange:function(e){return o(e.target.value)},onFocus:y,required:!0}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"btn btn-primary menu-button teal",value:"Sign Up",onClick:function(){return v()}}))))},y=function(){Object(a.useEffect)((function(){e()}),[sessionStorage.getItem("username")]);var e=function(){return null===sessionStorage.getItem("username")?r.a.createElement("div",{className:"nav-right"},r.a.createElement("li",null,r.a.createElement(b,null)),r.a.createElement("li",null,r.a.createElement(v,null))):r.a.createElement("li",{className:"nav-right"},r.a.createElement(u,null))};return r.a.createElement("nav",{className:"navbar-static-top"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},r.a.createElement("img",{width:"80",height:"30",src:m.a,alt:"Home"}))),e()))},x=function(e){var t=e.lists,n=e.setCurrentList,c=e.username,l=e.fetchLists,s=e.createList,i=e.listname,o=e.setListname,m=Object(a.useState)(" "),u=Object(f.a)(m,2),p=u[0],b=u[1],v=Object(a.useState)(""),y=Object(f.a)(v,2),x=y[0],w=y[1],N=Object(a.useState)(""),O=Object(f.a)(N,2),j=O[0],k=O[1],S=function(){var e=Object(E.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===x&&""===j){e.next=9;break}return e.next=3,fetch("/api/add-member",{method:"post",body:JSON.stringify({username:c,tempname:j,enteredCode:x}),headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.text();case 6:n=e.sent,console.log(JSON.stringify({username:c,tempname:j,enteredCode:x})),"true"===n&&(k(""),w(""),l());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"sidebar"},r.a.createElement("h2",null,"Other Lists"),r.a.createElement("ul",null,t.length>0&&t.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return n(e)}},e)}))),r.a.createElement("div",{className:"sidebar-opts"},r.a.createElement(h.a.Provider,{value:!1},r.a.createElement(g.a,null,r.a.createElement(g.a.Toggle,{className:"create-list"},r.a.createElement("a",null,"Create New List")),r.a.createElement(g.a.Menu,{className:"menu-spacing"},r.a.createElement("span",{id:"list-name-msg",className:"error"},p),r.a.createElement("input",{type:"text",id:"name-entered",placeholder:"Enter New List Name",value:i,onChange:function(e){return o(e.target.value)},onFocus:function(){return b("")}}),r.a.createElement("br",null),r.a.createElement("input",{className:"orange-btn-menu  wide-btn btn",type:"submit",value:"Go",onClick:function(){return s()}})))),r.a.createElement(h.a.Provider,{value:!1},r.a.createElement(g.a,null,r.a.createElement(g.a.Toggle,{className:"list-by-code"},r.a.createElement("a",{onClick:function(){return b("")}},"Add List By Code")),r.a.createElement(g.a.Menu,{className:"menu-spacing"},r.a.createElement("span",{id:"list-name-msg",className:"error"},p),r.a.createElement("input",{type:"text",id:"list-entered",placeholder:"Enter List Name",onFocus:function(){return b("")},value:j,onChange:function(e){return k(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("span",{id:"list-code-msg",className:"error"}),r.a.createElement("input",{type:"text",id:"code-entered",placeholder:"Enter List Password",value:x,onChange:function(e){return w(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"orange-btn-menu  wide-btn btn",value:"Go",onClick:function(){return S()}}))))))},w=function(){var e=Object(a.useState)(" "),t=Object(f.a)(e,2),n=(t[0],t[1]),c=sessionStorage.getItem("username"),l=Object(a.useState)(""),s=Object(f.a)(l,2),i=s[0],o=s[1],m=Object(a.useState)([]),u=Object(f.a)(m,2),p=u[0],b=u[1],v=Object(a.useState)("Create a List First"),y=Object(f.a)(v,2),w=y[0],N=y[1],O=Object(a.useState)("You have no lists."),j=Object(f.a)(O,2),k=j[0],S=j[1],C=Object(a.useState)(""),L=Object(f.a)(C,2),T=L[0],I=L[1],B=Object(a.useState)(""),P=Object(f.a)(B,2),F=P[0],J=P[1],M=Object(a.useState)([]),G=Object(f.a)(M,2),Y=G[0],U=G[1],q=function(){var e=Object(E.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/lists-per-person/".concat(c));case 2:return t=e.sent,e.t0=b,e.next=6,t.json();case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(E.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/create-list/",{method:"post",body:JSON.stringify({listname:i,username:c}),headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.text();case 5:"true"===(a=e.sent)?(o(""),q()):n(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(E.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("You have no lists."===k){e.next=9;break}return e.next=3,fetch("/api/list-code/".concat(k));case 3:return t=e.sent,e.t0=N,e.next=7,t.text();case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(E.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===T){e.next=10;break}return e.next=3,fetch("/api/add-item",{method:"post",body:JSON.stringify({username:c,currentList:k,item:T,price:F}),headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.text();case 6:a=e.sent,console.log(JSON.stringify({username:c,currentList:k,item:T,price:F})),console.log(a),"true"===a?(I(""),J(""),D("")):n(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(E.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===k&&"You have no lists."===k){e.next=7;break}return e.next=3,fetch("/api/items-per-list/".concat(k));case 3:return e.next=5,e.sent.json();case 5:t=e.sent,U(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(E.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/delete-item",{method:"post",body:JSON.stringify({username:c,currentList:k,item:t,price:n}),headers:{"Content-Type":"application/json"}});case 2:e.sent,D();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(E.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/complete-item",{method:"post",body:JSON.stringify({username:c,currentList:k,item:t,price:n}),headers:{"Content-Type":"application/json"}});case 2:e.sent,D();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){q()}),[c]),Object(a.useEffect)((function(){W(),D()}),[k]),Object(a.useEffect)((function(){p.length>0&&S(p[0])}),[p]),null===c?r.a.createElement("div",null,r.a.createElement("h1",null,"Please Login!")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flexbox"},r.a.createElement("div",{className:"latest-single"},r.a.createElement("div",{className:"list-header"},r.a.createElement("h1",null,k),p.length>0&&r.a.createElement(h.a.Provider,{value:!1},r.a.createElement(g.a,null,r.a.createElement(g.a.Toggle,{className:"members-btn"},r.a.createElement("a",null,"Add Members")),r.a.createElement(g.a.Menu,{className:"menu-spacing"},r.a.createElement("label",null,"Give new members this list password:"),r.a.createElement("h1",null,w))))),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"}),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Item"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,Y.length>0&&Y.map((function(e,t){return r.a.createElement(r.a.Fragment,null,e.items.map((function(t,n){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"}),r.a.createElement("td",null,e.username),r.a.createElement("td",null,t.item),r.a.createElement("td",null,t.price>0&&r.a.createElement("p",null,"$",t.price)," "),r.a.createElement("td",null,!0===t.completed?r.a.createElement("p",null,"Done"):r.a.createElement("button",{className:"orange-btn btn",value:t.price,onClick:function(){return X(t.item,t.price)}},r.a.createElement("span",null,"Incomplete"))),e.username===c?r.a.createElement("td",null,r.a.createElement("a",{href:"#",onClick:function(){return H(t.item,t.price)}},"X")):r.a.createElement("td",null))})))})))),r.a.createElement("div",{className:"item-form"},r.a.createElement("hr",null),r.a.createElement("div",{className:"wrapper"},r.a.createElement("label",{className:"item-form-element"},"Item"),r.a.createElement("span",{className:"item-form-element",id:"item-msg"}),r.a.createElement("input",{className:"item-form-element",type:"text",value:T,onChange:function(e){return I(e.target.value)}}),r.a.createElement("label",{className:"item-form-element"},"Price"),r.a.createElement("span",{className:"item-form-element",id:"price-msg"}),r.a.createElement("input",{className:"item-form-element",type:"number",min:"0",value:F,onChange:function(e){return J(e.target.value)}}),r.a.createElement("button",{className:"item-form-element btn btn-dark add-item-btn",onClick:function(){return $()}},"Add Item")))),r.a.createElement(x,{lists:p,setCurrentList:S,username:c,fetchLists:q,createList:A,listname:i,setListname:o})))},N=function(){return r.a.createElement("div",{className:"page-not-found"},r.a.createElement("h1",null,"Uh oh.. You found a nonexistant page."),r.a.createElement("h1",null,sessionStorage.getItem("username")))},O=n.p+"static/media/create-items.fe59a827.gif",j=n.p+"static/media/accessing list code.d26cd2dd.gif",k=n.p+"static/media/adding new members.4a57176d.gif",S=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"about"},r.a.createElement("div",{className:"blurredPhoto"}),r.a.createElement("div",{className:"about-text"},r.a.createElement("h1",null,"Create private or shared household shopping lists"),r.a.createElement("h4",null,"Promoting altruism in the household"),null!==sessionStorage.getItem("username")&&r.a.createElement("a",{href:"Main"},r.a.createElement("b",null,"Go to Your Lists")))),r.a.createElement("div",{className:"about-body"},r.a.createElement("hr",null),r.a.createElement("div",{className:"dark-mode"},r.a.createElement("h1",null,"Create a list and add items with or without an estimated price"),r.a.createElement("img",{src:O}),r.a.createElement("hr",null),r.a.createElement("h1",null,"Give household members your list name and list code"),r.a.createElement("img",{src:j}),r.a.createElement("hr",null),r.a.createElement("h1",null,"Your household members can add themselves to your list"),r.a.createElement("img",{src:k}),r.a.createElement("h1",null,"Only you can remove your items, but members in your list can complete any item for you"),null!==sessionStorage.getItem("username")&&r.a.createElement("a",{href:"Main"},r.a.createElement("b",null,"Go to Your Lists")))))};var C=function(){return r.a.createElement(s.a,null,r.a.createElement(y,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",component:S,exact:!0}),r.a.createElement(i.a,{path:"/main",component:w}),r.a.createElement(i.a,{component:N})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.bb3e3d84.chunk.js.map